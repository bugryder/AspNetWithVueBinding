<!DOCTYPE html>
<html>
<head>
    <title>AspNetWithVueBinding </title>
    <script src="Scripts/jquery-1.9.1.min.js"></script>
    <script src="Scripts/vue.min.js"></script>
    <script src="Scripts/isRockFx.js"></script>
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <script>
        Vue.config.debug = true;
        Vue.config.devtools = true;

        var vm_StudentRec= { StudentName: '', Height: 0, Weight: 0 }; //儲存資料的前端object
        var binding_StudentRec; //Vue instance

        //設定資料繫結
        function SetBinding() {
            //create vue instance
            binding_StudentRec = new Vue(
                        {
                            el: '#Form_StudentRec',
                            data: { rec: vm_StudentRec },
                        });
        }

        //新增一筆資料
        function AddNew() {
            var para = vm_StudentRec;

            ExecuteAPI('Example', 'AddNew', para,
                //success
                function (result) {
                    if (result.isSuccess)
                    {
                        window.location.href = 'index.html';
                    }
                }
             );
        }

        //透過binding清空UI上的資料
        function Clear() {
            vm_StudentRec = { StudentName: '', Height: 0, Weight: 0 };
            binding_StudentRec.rec = vm_StudentRec;
        }

        //ready
        $(function () {
            SetBinding();

            $('#ButtonAddNew').click(AddNew);
            $('#ButtonClear').click(Clear);
        });
    </script>
</head>
<body>
    <div class="row">
        <div class="col-md-12" style="margin: 10px">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    範例 : AspNetWithVueBinding (新增)
                </div>
                <div class="panel-body">
                 <div class="form-group" id="Form_StudentRec">
                     <label>姓名:</label>
                     <input class="form-control"  id="txbName" v-model="rec.StudentName" placeholder="請輸入姓名" />
                     <label>身高:</label>
                     <input class="form-control" id="txbHeight" v-model="rec.Height" placeholder="請輸入身高" />
                     <label>體重:</label>
                     <input class="form-control" id="txbWeight" v-model="rec.Weight" placeholder="請輸入體重" />
                     <br />
                     <button type="button" id="ButtonAddNew" class="btn btn-primary">新增</button>
                     <button type="button" id="ButtonClear" class="btn btn-primary">清空</button>
                 </div>
                </div>
                <br />
            </div>
        </div>
    </div>
</body>
</html>